<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="resources">
	<database-object>
		<create>
			create or replace view bike_view as (
				select b.serial_number as serial_number, bm.name as model_name, br.name as brand_name, b.basket_id, b.order_id from 
				bike b inner join bike_model bm on b.bike_model_id = bm.id
				inner join brand br on bm.brand_id = br.id
			);
		</create>
		<drop>
			drop view bike_view;
		</drop>
	</database-object>
</hibernate-mapping>
 